<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>
	GHER hiking
  </title>

  <link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/leaflet.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/leaflet.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.fullscreen/1.4.3/Control.FullScreen.css">
  <link rel="stylesheet" href="js/leaflet.awesome-markers.css">
  <link rel="stylesheet" href="css/leaflet-distance-marker.css" media="screen"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<style>
		#map {height: 800px}
  </style>
  <!--[if lte IE 8]>
      <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.ie.css" />
  <![endif]-->
</head>
<body>

		<div id="map"></div>	
  
		  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-omnivore/0.3.4/leaflet-omnivore.js"></script>
		  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.fullscreen/1.4.3/Control.FullScreen.min.js"></script>
		  <script src="js/leaflet.awesome-markers.js"></script>
		  <script src="js/leaflet-distance-marker.js" type="text/javascript"></script>
		  <script src="js/leaflet.geometryutil.js" type="text/javascript"></script>
		  <script>
			var map = L.map('map', {fullscreenControl: true}).setView([50.57,5.57], 14);

			var OpenStreetMap_Mapnik = L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
						maxZoom: 19,
						attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
			});
			
			var CartoDB = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', {
				maxZoom: 18, 
				attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy; <a href="https://carto.com/attribution">CARTO</a>'
			  });

			var baseMaps = {
				"CartoDB": CartoDB,
				"OpenStreetMap": OpenStreetMap_Mapnik
			};
			
			map.addLayer(OpenStreetMap_Mapnik)
			
			var bottleIcon = L.icon({
			iconUrl: './images/bottle.png',
			//iconSize:     [38, 95], // size of the icon
			iconAnchor:   [0, 20], // point of the icon which will correspond to marker's location
			//popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
			});
			
			
			
			var customLayer = L.geoJson(null, {
				style: function(feature) {
					return { 
						color: 'blue',
						weight: 3, 
						opacity: .85
						};
				}
			});
			
			var Parcours = omnivore.gpx('GPX/b5a-roche-aux-faucons-limoges.gpx', null, customLayer);
			Parcours.addTo(map);

							
			var overlayers = {
				"Parcours": Parcours,
			};
			
			L.control.layers(baseMaps, overlayers, {autoZIndex:false, collapsed:false}).addTo(map);	
			

				
		  </script>
	</body>
</html>
